Задание 1.

Выполнил уровень 1 и 2.

Уровень 1.
Выбрал Webpack Module Federation, так как он более удобен для внедрения отдельных виджетов из разных микрофронтендов в пределах одной страницы.

Уровень 2.
Разбил приложение на 3 микрофронта: auth, cards и profile. Приложение host выступает в роли хоста.
Примерная структура декомпозированного проекта выглядит так:

/frontend/microfrontend
  /auth                        // Отвечает за обработку и интерфейс функций аутентификации
    /src
      /blocks
        /auth-form             // Стили для компонента Login и Register
        /popup                 // Стили для компонента InfoTooltip
      /components
        InfoTooltip.js         // Компонент для вывода сообщения успеха или ошибки аутентификации
        Login.js               // Компонент входа пользователя
        Register.js            // Компонент регистрации пользователя
      /images                  // Ресурсы иконок и картинок
      /utils
        api.js                 // Утилиты для аутентификации
      /vendor                  // Стили текстов
      index.js                 // Точка входа микрофронтенда
    package.json               // Зависимости и скрипты микрофронтенда
    webpack.config.js          // Настройка подключения микрофротенда к хосту
  /cards                       // Отвечает за обработку и интерфейс функций карточек
    /src
      /blocks
        /add-button            // Стили для компонента AddPlaceButton
        /card                  // Стили для компонента Card и CardsList
        /places                // Стили для компонента CardsList
        /popup                 // Стили для компонента AddPlacePopup, ImagePopup, PopupWithForm
      /components
        AddPlaceButton.js      // Новый компонент кнопки, вызывающей AddPlacePopup
        AddPlacePopup.js       // Компонент попапа добавления новой карточки места
        Card.js                // Компонент карточки места
        CardsList.js           // Новый компонент отображения все карточек мест
        ImagePopup.js          // Компонент попапа просмотра карточки места
        PopupWithForm.js       // Общий компонент попапа 
      /images                  // Ресурсы иконок и картинок
      /utils
        api.js                 // Утилиты для работы с карточками
      /vendor                  // Стили текстов
      index.js                 // Точка входа микрофронтенда
    package.json               // Зависимости и скрипты микрофронтенда
    webpack.config.js          // Настройка подключения микрофротенда к хосту
  /host                        // Отвечает за объединение микрофронтендов внутри общего приложения
    /src
      /blocks
        /content               // Стили для компонента Main
        /footer                // Стили для компонента Footer
        /header                // Стили для компонента Header
        /page                  // Стили для компонента App, Main
      /components
        App.js                 // Компонент, собирающий остальные компоненты в единую структуру
        Footer.js              // Компонент футера
        Header.js              // Компонент хедера
        Main.js                // Компонент отображающий и объединяющий функционал Cards и Profile
        ProtectedRoute.js      // Компонент ответсвенный за своевременный редирект на экраны аутентификации
      /contexts                // Содержит контекст пользователя
      /images                  // Ресурсы иконок и картинок
      /utils
        api.js                 // Утилита для получения данных о пользователе (выделил чтобы не перегруживать логику)
      /vendor                  // Стили текстов
      index.js                 // Точка входа хоста
    package.json               // Зависимости и скрипты хоста
    webpack.config.js          // Настройка подключения микрофротендов к хосту
  /profile                     // Отвечает за обработку и интерфейс функций профиля
    /src
      /blocks
        /popup                 // Стили для компонента EditAvatarPopup, EditProfilePopup, PopupWithForm
        /profile               // Стили для компонента Profile
      /components
        EditAvatarPopup.js     // Компонент попапа редактирвания аватара
        EditProfilePopup.js    // Компонент попапа редактирования профиля
        PopupWithForm.js       // Общий компонент попапа 
        Profile.js             // Компонент профиля
      /images                  // Ресурсы иконок и картинок
      /utils
        api.js                 // Утилиты для работы с профилем/пользователем
      /vendor                  // Стили текстов
      index.js                 // Точка входа микрофронтенда
    package.json               // Зависимости и скрипты микрофронтенда
    webpack.config.js          // Настройка подключения микрофротенда к хосту

Как запустить:

Я помучался с raw-loader еще до сдачи и я надеюсь, что достаточно будет вызвать эту команду 
в новом терминале перед запуском микрофронтендов:
npm install raw-loader --save-dev

1. Запустить каждый микрофронтенд в отдельных терминалах

cd frontend/microfrontend/auth
npm install
npm start

cd frontend/microfrontend/cards
npm install
npm start

cd frontend/microfrontend/profile
npm install
npm start

2. Запустить хост
cd frontend/microfrontend/host
npm install
npm start

Почему решил сделать все так.

1. Микрофронтенд auth включает в себя только функции и компоненты аутентификации. 
Причем с технической точки зрения было просто выделить его из монолита. 
Только ипользование email в Header стало исключением. Компонент Header врядли стоит относить к аутентификации, так как при масштабировании проектов в хедеры часто выносятся новые функции. Поэтому я решил, помимо храниеня email в auth, хранить и  обновлять поле email через систему ивентов в host, где остался компонент Header.

2. Чтобы справиться с изолированием компонентов попапов и диалогов я настроил систему ивентов, меняющих флаги типа isOpen внутри самих попапов. Таким образом обработка вызова этих компанентов остается в внутри своего микрофронтенда, а host просто добавляет сам компонент попапа в верстку.

3. Так же чтобы справиться с навигацией через history и обновлением контекста пользователя в host, решил использовать систему ивентов.

4. Как и с auth, profile и cards хорошо выделяются в отдельные микрофронтенды, однако компоненты пришлось разъединять силой. Отсюда отдельные обновленные компоненты CardsList и AddPlaceButton в cards и Profile в profile.

5. Все остальное служит для композиции, поэтому все остальное в host.



Задание 2.

Ссылка на решение:
https://drive.google.com/file/d/1z7hl-7thtzumunStzZgAD8AYQgV475JY/view?usp=sharing

В этом решении я разделил монолитный сервис на множество микросервисов, ответсвенных за свои бизнес функции. 
Для работы с общей системой я выделил отдельные системы, предоставляющие интрефейс для работы как клиенту, так 
и администратору со специалистом техподдержки. Для обеспечения потребностей этих систем сформировал отдельные BFF-сервисы.
Описания взаимодействий сервисов и описания компонентов приведены под схемой на макете.
При описании взаимодействий и декомпозиции я также принял решение не уделять слишком большого внимания
функциями и взаимодействиям, не заявленным в потребностях клиентов — если проекту потребуются эти функциональности 
в будущем, то схему будет легко дополнить.
